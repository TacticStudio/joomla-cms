/*! YOOtheme Pro v4.4.5 | https://yootheme.com */

(function(){"use strict";function W(t,e){return t?.startsWith?.(e)}const{isArray:x,from:q}=Array;function A(t){return typeof t=="function"}function w(t){return t!==null&&typeof t=="object"}function J(t){return w(t)&&t===t.window}function Q(t){return k(t)===9}function T(t){return k(t)>=1}function k(t){return!J(t)&&w(t)&&t.nodeType}function m(t){return typeof t=="string"}function N(t){return t===void 0}function c(t){return t&&l(t)[0]}function l(t){return T(t)?[t]:Array.from(t||[]).filter(T)}function B(t){const e=Object.create(null);return(n,...o)=>e[n]||(e[n]=t(n,...o))}function V(t,...e){for(const n of l(t)){const o=b(e).filter(i=>!G(n,i));o.length&&n.classList.add(...o)}}function G(t,e){return[e]=b(e),l(t).some(n=>n.classList.contains(e))}function K(t,e,n){const o=b(e);N(n)||(n=!!n);for(const i of l(t))for(const r of o)i.classList.toggle(r,n)}function b(t){return t?x(t)?t.map(b).flat():String(t).split(" ").filter(Boolean):[]}function g(t,e,n){if(w(e)){for(const o in e)g(t,o,e[o]);return}if(N(n))return c(t)?.getAttribute(e);for(const o of l(t))A(n)&&(n=n.call(o,g(o,e))),n===null?X(o,e):o.setAttribute(e,n)}function X(t,e){l(t).forEach(n=>n.removeAttribute(e))}function Z(t){return c(t)?.parentElement}function tt(t,e){return l(t).filter(n=>L(n,e))}function L(t,e){return l(t).some(n=>n.matches(e))}function et(t,e){t=c(t);const n=t?q(t.children):[];return e?tt(n,e):n}function _(t,e){return e?l(t).indexOf(c(e)):et(Z(t)).indexOf(t)}function nt(t,e){return c(z(t,c(e),"querySelector"))}function D(t,e){return l(z(t,c(e),"querySelectorAll"))}const ot=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,it=/.*?[^\\](?![^(]*\))(?:,|$)/g,rt=/\s*,$/,dt=B(t=>{t=t.replace(ot,"$1 *");let e=!1;const n=[];for(let o of t.match(it)??[])o=o.replace(rt,"").trim(),e||=["!","+","~","-",">"].includes(o[0]),n.push(o);return{selector:n.join(","),selectors:n,isContextSelector:e}}),M=B(t=>{t=t.slice(1).trim();const e=t.indexOf(" ");return~e?[t.slice(0,e),t.slice(e+1)]:[t,""]});function z(t,e=document,n){if(!t||!m(t))return t;const o=dt(t);if(!o.isContextSelector)return v(e,n,o.selector);t="";const i=o.selectors.length===1;for(let r of o.selectors){let a,d=e;if(r[0]==="!"&&([a,r]=M(r),d=e.parentElement.closest(a),!r&&i)||d&&r[0]==="-"&&([a,r]=M(r),d=d.previousElementSibling,d=L(d,a)?d:null,!r&&i))return d;if(d){if(i)return r[0]==="~"||r[0]==="+"?(r=`:scope > :nth-child(${_(d)+1}) ${r}`,d=d.parentElement):r[0]===">"&&(r=`:scope ${r}`),v(d,n,r);t+=`${t?",":""}${at(d)} ${r}`}}return Q(e)||(e=e.ownerDocument),v(e,n,t)}function v(t,e,n){try{return t[e](n)}catch{return null}}function at(t){const e=[];for(;t.parentNode;){const n=g(t,"id");if(n){e.unshift(`#${st(n)}`);break}else{let{tagName:o}=t;o!=="HTML"&&(o+=`:nth-child(${_(t)+1})`),e.unshift(o),t=t.parentNode}}return e.join(" > ")}function st(t){return m(t)?CSS.escape(t):""}function $(...t){let[e,n,o,i,r=!1]=C(t);i.length>1&&(i=ft(i)),r?.self&&(i=mt(i)),o&&(i=ut(o,i));for(const a of n)for(const d of e)d.addEventListener(a,i,r);return()=>lt(e,n,i,r)}function lt(...t){let[e,n,,o,i=!1]=C(t);for(const r of n)for(const a of e)a.removeEventListener(r,o,i)}function ct(...t){const[e,n,o,i,r=!1,a]=C(t),d=$(e,n,o,p=>{const s=!a||a(p);s&&(d(),i(p,s))},r);return d}function C(t){return t[0]=ht(t[0]),m(t[1])&&(t[1]=t[1].split(" ")),A(t[2])&&t.splice(2,0,!1),t}function ut(t,e){return n=>{const o=t[0]===">"?D(t,n.currentTarget).reverse().find(i=>i.contains(n.target)):n.target.closest(t);o&&(n.current=o,e.call(this,n),delete n.current)}}function ft(t){return e=>x(e.detail)?t(e,...e.detail):t(e)}function mt(t){return function(e){if(e.target===e.currentTarget||e.target===e.current)return t.call(null,e)}}function R(t){return t&&"addEventListener"in t}function pt(t){return R(t)?t:c(t)}function ht(t){return x(t)?t.map(pt).filter(Boolean):m(t)?D(t):R(t)?[t]:l(t)}function bt(t){if(document.readyState!=="loading"){t();return}ct(document,"DOMContentLoaded",t)}const gt=S("prepend"),E=S("append"),yt=S("after");function S(t){return function(e,n){const o=l(m(n)?F(n):n);return u(e)?.[t](...o),Y(o)}}const xt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function F(t){const e=xt.exec(t);if(e)return document.createElement(e[1]);const n=document.createElement("template");return n.innerHTML=t.trim(),Y(n.content.childNodes)}function Y(t){return t.length>1?t:t[0]}function u(t,e){return wt(t)?c(F(t)):nt(t,e)}function wt(t){return m(t)&&W(t.trim(),"<")}function vt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var $t=".tm-editor{align-items:center;background:#fff;border:1px solid #ddd;display:flex;flex-direction:column;height:400px;justify-content:center;margin-bottom:15px;text-align:center;width:100%}.tm-link{color:#888;display:inline-block;margin:20px 0}.tm-button{-webkit-font-smoothing:antialiased;background:linear-gradient(140deg,#fe67d4,#4956e3);border-radius:2px;box-shadow:inset 0 0 1px 0 rgba(0,0,0,.5);box-sizing:border-box;color:#fff!important;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;line-height:10px;max-width:100%;padding:20px 30px;text-align:center;text-decoration:none!important;text-transform:uppercase;width:280px}.tm-active #editor-xtd-buttons,.tm-active #jform_articletext,.tm-active .CodeMirror,.tm-active .editor-xtd-buttons,.tm-active .label,.tm-active label,.tm-button[hidden],.tm-editor[hidden]{display:none}.tm-joomla3 .tm-modal-builder{top:25%!important}@media (min-width:768px){.tm-joomla3 .tm-modal-builder{margin-left:-250px;width:500px}}.tm-joomla4 .tm-modal-builder{padding:0 20px;top:25%}.tm-joomla4 .tm-modal-builder .modal-dialog{margin:0 auto;max-width:600px}.tm-modal-builder .modal-body{padding:20px}.tm-joomla3 .tm-modal-builder .modal-body{box-sizing:border-box}.tm-modal-builder .modal-body>:last-child{margin-bottom:0}";vt($t);const j={},{location:{href:Ct},parent:H}=window,O=H!==window&&H.location.search.includes("p=customizer");bt(()=>{V(document.body,`tm-joomla${U()}`);const t=new URLSearchParams(window.location.search);if(!t.get("id")&&!t.get("a_id"))return;const{url:e}=window.$articles,n=`${e}&return=${encodeURIComponent(Ct)}`,o=/<!--\s?{.*?}\s?-->/,i=u("#jform_articletext"),r=u(`
        #general .editor, 
        #general .js-editor-tinymce, 
        #general joomla-editor-none, 
        #general joomla-editor-codemirror, 
        #adminForm #editor .editor, 
        #adminForm #editor .js-editor-tinymce,
        #adminForm #editor joomla-editor-none,
        #adminForm #editor joomla-editor-codemirror`),a=i?.value.match(o),d=r?.parentNode||i?.parentNode;St(d,n),O||jt("#general #editor-xtd-buttons, #editor #editor-xtd-buttons, #general .editor-xtd-buttons, #editor .editor-xtd-buttons",n,d),p(a),$("body","click",".tm-link",s=>{s.preventDefault(),Et(n)}),$("body","click",".tm-default",s=>{s.preventDefault(),p();const{Joomla:y,tinyMCE:h={}}=window,{jform_articletext:f}=y.editors.instances,I=i.value,P=I.replace(o,"");f.setValue(P),h.activeEditor?.getContent()===I&&h.activeEditor.setContent(P),f.refresh?.()});function p(s){r&&(r.hidden=!!s),i.disabled=!!s;const y=u("#articletext_clone");y&&(y.disabled=!s),K(d,"tm-active",!!s);const h=u(".tm-editor");if(h&&(h.hidden=!s),s){const f=i.cloneNode(!0);g(f,"class",""),yt(i,f),f.id="articletext_clone",f.style.display="none",f.disabled=!1}}});function Et(t){j.dialog||=E(u("body"),`<div class="modal fade tm-modal-builder" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <p>${"This article was previously edited with the YOOtheme Builder. You can continue in the Default Editor, but you will lose all formatting."}</p>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-primary" href="${t}"${O?" hidden":""}>${"Edit in YOOtheme Builder"}</a>
                    <button class="btn btn-secondary tm-default" type="button" data-dismiss="modal" data-bs-dismiss="modal">${"Continue to Default Editor"}</button>
                </div>
            </div>
        </div>
    </div>`),U()===4?new window.bootstrap.Modal(j.dialog).show():window.jQuery(j.dialog).modal().show()}function St(t,e){E(t,`<div class="tm-editor" hidden>
        <a href="${e}" class="tm-button"${O?" hidden":""}>${"YOOtheme Builder"}</a>
        <a href class="tm-link">&#8592; ${"Back to Default Editor"}</a>
    </div>`)}function jt(t,e,n){let o=u(t);o||(o=u('<div id="editor-xtd-buttons" class="btn-toolbar pull-left mt-3">'),E(n,o));const i=u(`<a class="btn btn-primary"><span class="icon-star"></span> ${"YOOtheme Builder"}</a>`);i.href=e,gt(o,i)}function Ot(t){return t}function U(){return window.bootstrap?.Modal?4:3}})();
